@page "/"
@using BlazorRpgPersona.Models
@inject HttpClient HttpClient

<FrameControllerForm />
<FrameStatusLogs />

@if (null != containerApplications)
{
    foreach (var containerApplication in containerApplications)
     {
         <RpgPersonaFrame FrameName="@containerApplication.ApplicationName" FrameSource="@containerApplication.ApplicationUrl" />
     }
}

@functions
{
private List<ContainerApplication> containerApplications;

protected override async Task OnInitAsync()
{
    containerApplications = await HttpClient.GetJsonAsync<List<ContainerApplication>>("api/containerapplications");
}
}
